mixin project-li(data)
  - var slide = data.name.toLowerCase().replace(/[^a-z]/g, '-');
  li: a(href=data.url target='_blank' data-slide-to="index-projects:slides projects:#{slide}" data-scroll='#projects')= data.name


mixin project(data, active)
  - var slide = data.name.toLowerCase().replace(/[^a-z]/g, '-');
  .project.slider-item(data-slide=slide class=(active ? 'active' : '') style=(!active ? 'display: none;' : ''))
    .row.section-body
      .col-sm-5.col-12-md.hidden-xs
        .project-image-wrapper
          img.project-image.visible-sm(alt=data.name src='/assets/images/mobile-#{slide}.png')

      .col-xs-12.col-sm-7.col-md-12
        .visible-xs
          img.project-image(alt=data.name src='/assets/images/mobile-#{slide}.png')
        .visible-md.visible-lg
          img.project-image(alt=data.name src='/assets/images/cc-desktop.png')

        .row
          .col-xs-12.col-md-6
            .openable
              hr.visible-xs
              .row
                .col-xs-7.col-sm-12
                  h1.section-headline= data.name
                .col-xs-5.visible-xs.togglers
                  a.plus.ttr.when-closed(href='#'): span.icon.icon-plus
                  a.minus.ttr.when-opened(href='#'): span.icon.icon-minus
              hr.when-opened
              .when-opened!= marked(data.description)

          .col-xs-12.col-md-6
            .openable
              hr.visible-xs
              .row
                .col-xs-7.col-sm-12
                  h1.section-headline Credits
                .col-xs-5.visible-xs.togglers
                  a.plus.ttr.when-closed(href='#'): span.icon.icon-plus
                  a.minus.ttr.when-opened(href='#'): span.icon.icon-minus
              hr.when-opened
              .when-opened
                ul.credits
                  for tasks, name in data.credits
                    li
                      strong.name= name
                      span= tasks

    ul.links
      - var links = [];
      - links.push('<li><a href="' + data.url + '" target="_blank">Visit the Site</a></li>');
      - links.push('<li><a href="#" target="_blank"><div class="hidden-xs">See more on Behance</div><div class="visible-xs-inline-block">More on Behance</div></a></li>');
      != links.join('')

